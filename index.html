<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>HexFlow â€” points, paths, particles</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { color-scheme: dark; }
    html, body {
      margin: 0; height: 100%;
      display: flex; flex-direction: column;
      font: 14px/1.35 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: -webkit-radial-gradient(top, #00b8ff, #14142f);
    }
    .topbar {
      padding: 12px;
      display: flex; flex-direction: column; gap: 10px;
      background: linear-gradient(#0f1012, #0f1012cc);
      border-bottom: 1px solid #222;
    }
    .panel-toggles { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; }
    .chip {
      display: flex; gap: 8px; align-items: center;
      padding: 6px 10px; border-radius: 8px;
      border: 1px solid #222; background: #000a; color: #e5e7eb;
      font-size: 12px; cursor: pointer; user-select: none; backdrop-filter: blur(4px);
    }

    .panels { display: flex; gap: 10px; flex-wrap: wrap; }
    .ui {
      background: #0009; border: 1px solid #222; border-radius: 10px;
      padding: 12px 14px; color: #e5e7eb; backdrop-filter: blur(4px);
      min-width: 280px;
    }
    .ui.hidden { display: none; }
    .ui h3 { margin: 0 0 8px 0; font-size: 12px; opacity: .8; letter-spacing: .04em; text-transform: uppercase; }
    .row { display: flex; align-items: center; gap: 8px; margin: 6px 0; }
    .row label { width: 200px; opacity: .9; font-size: 12px; }
    .row input[type=range] { flex: 1; }
    .row input[type=number], .row input[type=text] {
      width: 120px; background: #0e0f11; border: 1px solid #333;
      border-radius: 6px; color: #e5e7eb; padding: 4px 6px;
    }
    .row select {
      flex: 1; min-width: 220px; background: #0e0f11;
      border: 1px solid #333; color: #e5e7eb; border-radius: 6px; padding: 6px;
    }
    .row input[type=checkbox] { transform: translateY(1px); }
    .seg-grid { display: grid; grid-template-columns: auto 200px 70px 90px; gap: 8px; align-items: center; }
    .seg-grid .hdr { opacity: .75; font-size: 12px; }
    .seg-name { width: 120px; }

    #viewport { flex: 1; min-height: 0; position: relative; }
    #viewport canvas { display: block; width: 100%; height: 100%; mix-blend-mode: screen; }
    .small { font-size: 12px; opacity: .8 }
    .path-steps { display: grid; grid-template-columns: 1fr 90px 60px 60px; gap: 6px; align-items: center; }
    .path-steps .hdr { font-size: 12px; opacity: .7; }
    .btn { padding: 4px 8px; border: 1px solid #333; border-radius: 6px; background: #1117; color: #e5e7eb; cursor: pointer; }
  </style>

  <script type="importmap">
  { "imports": {
      "three": "https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.module.js",
      "OrbitControls": "https://cdn.jsdelivr.net/npm/three@0.158.0/examples/jsm/controls/OrbitControls.js"
  } }
  </script>
</head>
<body>
  <div class="topbar">
    <div class="panel-toggles">
      <label class="chip"><input id="toggle-view" type="checkbox" /> View</label>
      <label class="chip"><input id="toggle-geom" type="checkbox" /> Geometry</label>
      <label class="chip"><input id="toggle-typ" type="checkbox" /> Typography</label>
      <label class="chip"><input id="toggle-points" type="checkbox" /> Points</label>
      <label class="chip"><input id="toggle-paths" type="checkbox" /> Paths</label>
      <label class="chip"><input id="toggle-particles" type="checkbox" /> Particles</label>
    </div>

    <div class="panels">
      <div class="ui hidden" id="view-ui"><h3>View</h3><div id="view-rows"></div></div>
      <div class="ui hidden" id="geom-ui"><h3>Geometry</h3><div id="geom-rows"></div></div>
      <div class="ui hidden" id="typ-ui"><h3>Typography</h3><div id="typ-rows"></div></div>
      <div class="ui hidden" id="points-ui"><h3>Points</h3><div id="points-rows"></div></div>
      <div class="ui hidden" id="paths-ui"><h3>Paths</h3><div id="paths-rows"></div></div>
      <div class="ui hidden" id="particles-ui"><h3>Particles</h3><div id="particles-rows"></div></div>
    </div>
  </div>

  <div id="viewport"></div>

  <script type="module" src="./src/main.js"></script>
</body>
</html>
